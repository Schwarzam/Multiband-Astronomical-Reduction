fieldnames = ['A147-001',
 'A147-002',
 'A147-005',
 'A147-006',
 'A3266-001',
 'A3266-002',
 'A3266-003',
 'A3266-004',
 'A3266-005',
 'A3266-006',
 'A3266-007',
 'A3376_001',
 'A3376_002',
 'A3376_003',
 'A3376_004',
 'A3376_005',
 'A3376_006',
 'A3376_007',
 'A3395-001',
 'A3395-002',
 'A3395-003',
 'A3395-004',
 'A3395-005',
 'A3395-006',
 'A3395-007',
 'A3395-A3391-001',
 'A3395-A3391-002',
 'A3395-A3391-010',
 'A3395-A3391-011',
 'A3395-A3391-012',
 'A3395-A3391-013',
 'A3395-A3391-020',
 'A3395-A3391-021',
 'A3395-A3391-022',
 'A3395-A3391-031',
 'A3395-A3391-032',
 'A3490-001',
 'A3490-002',
 'A3490-004',
 'A3490-005',
 'A3490-006',
 'A3490-007',
 'A3497-001',
 'A3497-002',
 'A3497-003',
 'A3497-006',
 'A3667-001',
 'A3667-002',
 'A3667-003',
 'A3667-004',
 'A3667-005',
 'A3667-006',
 'A3667-007',
 'A3716-001',
 'A3716-002',
 'A3716-003',
 'A3716-004',
 'A3716-005',
 'A3716-006',
 'A3716-007',
 'A500_001',
 'A500_002',
 'A500_003',
 'A500_004',
 'A500_005',
 'A500_006',
 'A500_007',
 'A548b-001',
 'A548b-002',
 'A548b-003',
 'A548b-004',
 'A548b-005',
 'A548b-006',
 'A548b-007',
 'A754-001',
 'A754-002',
 'A754-003',
 'A754-004',
 'A754-005',
 'A754-006',
 'A754-007',
 'A780-001',
 'A780-002',
 'A780-003',
 'A780-004',
 'A780-005',
 'A780-006',
 'A780-007',
 'SHAPLEY-001',
 'SHAPLEY-002',
 'SHAPLEY-003',
 'SHAPLEY-004',
 'SHAPLEY-005',
 'SHAPLEY-006',
 'SHAPLEY-010',
 'SHAPLEY-011',
 'SHAPLEY-012',
 'SHAPLEY-013',
 'SHAPLEY-014',
 'SHAPLEY-015',
 'SHAPLEY-016',
 'SHAPLEY-020',
 'SHAPLEY-021',
 'SHAPLEY-022',
 'SHAPLEY-023',
 'SHAPLEY-024',
 'SHAPLEY-025',
 'SHAPLEY-026',
 'SHAPLEY-030',
 'SHAPLEY-031',
 'SHAPLEY-032',
 'SHAPLEY-033',
 'SHAPLEY-034',
 'SHAPLEY-035',
 'SHAPLEY-036',
 'SHAPLEY-040',
 'SHAPLEY-041',
 'SHAPLEY-042',
 'SHAPLEY-043',
 'SHAPLEY-044',
 'SHAPLEY-045',
 'SHAPLEY-046',
 'SHAPLEY-050',
 'SHAPLEY-051',
 'SHAPLEY-052',
 'SHAPLEY-053',
 'SHAPLEY-054',
 'SHAPLEY-055',
 'SHAPLEY-056',
 'SHAPLEY-062',
 'SHAPLEY-063',
 'SHAPLEY-064',
 'SHAPLEY-065',
 'SHAPLEY-073',
 'SHAPLEY-074',
 'SHAPLEY-082',
 'SHAPLEY-083',
 'SHAPLEY-084',
 'SHAPLEY-092',
 'SHAPLEY-094',
 'SHAPLEY-095',
 'ZWII108-001',
 'ZWII108-002',
 'ZWII108-003',
 'ZWII108-006',
 'ZWII108-007',
 'Abell0496-001',
 'Abell0496-002',
 'Abell0496-003',
 'Abell0496-004',
 'Abell0496-005',
 'Abell0496-006',
 'Abell0496-007',
 'Abell0536-001',
 'Abell0536-002',
 'Abell0536-003',
 'Abell0536-004',
 'Abell0536-005',
 'Abell0536-006',
 'Abell0536-007',
 'Abell3223-001',
 'Abell3223-002',
 'Abell3223-003',
 'Abell3301-001',
 'Abell3301-002',
 'Abell3301-003',
 'Abell3301-004',
 'Abell3490-001',
 'Abell3490-002',
 'Abell3490-003',
 'Abell3490-005',
 'Abell3490-006',
 'Abell3490-007',
 'Abell3651-001',
 'Abell3651-002',
 'Abell3651-003',
 'Abell3651-004',
 'Abell3651-005',
 'Abell3651-006',
 'AbellS0560-001',
 'AbellS0560-002',
 'AbellS0560-003',
 'AbellS0560-004',
 'AbellS0560-005',
 'AbellS0560-006',
 'AbellS0560-007',
 'A3376_001',
 'A3376_006',
 'A3376_003',
 'A3376_007',
 'A3376_004',
 'A3376_002',
 'A3376_005',
 'A500_002',
 'A500_007',
 'A500_004',
 'A500_006',
 'A500_001',
 'A500_003',
 'A500_005',
 'A3667-004',
 'A3667-001',
 'A3667-006',
 'A3667-002',
 'A3667-007',
 'A3667-003',
 'A3667-005',
 'A3395-004',
 'A3395-006',
 'A3395-005',
 'A3395-007',
 'A3395-002',
 'A3395-001',
 'A3395-003',
 'A3266-001',
 'A3266-005',
 'A3266-003',
 'A3266-004',
 'A3266-006',
 'A3266-002',
 'A3266-007',
 'A3395-007',
 'A3395-004',
 'A3395-003',
 'A3395-002',
 'A3395-006',
 'A3395-001',
 'A548b-003',
 'A548b-004',
 'A548b-006',
 'A548b-001',
 'A548b-005',
 'A548b-002',
 'A548b-007',
 'A754-007',
 'A754-002',
 'A754-005',
 'A754-001',
 'A754-004',
 'A754-006',
 'A754-003',
 'A780-007',
 'A780-002',
 'A780-001',
 'A780-003',
 'A780-005',
 'A780-006',
 'A780-004',
 'SHAPLEY-001',
 'SHAPLEY-003',
 'SHAPLEY-002',
 'SHAPLEY-004',
 'SHAPLEY-005',
 'SHAPLEY-004',
 'SHAPLEY-005',
 'SHAPLEY-002',
 'SHAPLEY-006',
 'SHAPLEY-010',
 'SHAPLEY-015',
 'SHAPLEY-016',
 'SHAPLEY-011',
 'SHAPLEY-012',
 'SHAPLEY-013',
 'SHAPLEY-014',
 'SHAPLEY-016',
 'SHAPLEY-020',
 'SHAPLEY-021',
 'SHAPLEY-022',
 'SHAPLEY-023',
 'SHAPLEY-033',
 'SHAPLEY-030',
 'SHAPLEY-024',
 'SHAPLEY-032',
 'SHAPLEY-025',
 'SHAPLEY-031',
 'SHAPLEY-031',
 'SHAPLEY-040',
 'SHAPLEY-026',
 'SHAPLEY-036',
 'SHAPLEY-035',
 'SHAPLEY-034',
 'SHAPLEY-035',
 'SHAPLEY-041',
 'SHAPLEY-042',
 'SHAPLEY-043',
 'SHAPLEY-044',
 'SHAPLEY-065',
 'SHAPLEY-054',
 'SHAPLEY-056',
 'SHAPLEY-045',
 'SHAPLEY-064',
 'SHAPLEY-055',
 'SHAPLEY-053',
 'SHAPLEY-065',
 'SHAPLEY-063',
 'SHAPLEY-052',
 'SHAPLEY-062',
 'SHAPLEY-046',
 'SHAPLEY-050',
 'SHAPLEY-074',
 'SHAPLEY-072',
 'A3716-002',
 'A3716-005',
 'A3716-004',
 'A3716-007',
 'A147-002',
 'A147-005',
 'A3716-005',
 'ZWII108-007',
 'ZWII108-003',
 'A147-001',
 'A3716-003',
 'ZWII108-002',
 'ZWII108-001',
 'ZWII108-007',
 'A147-006',
 'ZWII108-003',
 'A3716-001',
 'A3716-006',
 'A147-002',
 'A147-007',
 'ZWII108-006',
 'A3395-A3391-011',
 'A3395-A3391-012',
 'A3395-A3391-022',
 'A3395-A3391-021',
 'A3395-A3391-013',
 'A3395-A3391-002',
 'A3395-A3391-001',
 'A3395-A3391-010',
 'A3395-A3391-020',
 'A3395-005',
 'A3395-A3391-031',
 'A3395-A3391-032',
 'SHAPLEY-073',
 'A3490-005',
 'A3497-002',
 'SHAPLEY-084',
 'A3490-007',
 'SHAPLEY-085',
 'A3497-004',
 'A3497-001',
 'SHAPLEY-083',
 'SHAPLEY-095',
 'A3490-002',
 'A3497-003',
 'SHAPLEY-082',
 'SHAPLEY-092',
 'A3490-001',
 'SHAPLEY-094',
 'A3497-006',
 'A3490-004',
 'SHAPLEY-093',
 'A3490-006',
 'SHAPLEY-096',
 'SHAPLEY-086',
 'SHAPLEY-070',
 'SHAPLEY-051',
 'A3497-005',
 'SHAPLEY-066',
 'SHAPLEY-080',
 'Abell3651-003',
 'Abell3651-007',
 'Abell3651-006',
 'Abell3651-001',
 'Abell3651-005',
 'Abell3651-004',
 'Abell3651-002',
 'Abell0496-006',
 'AbellS0560-005',
 'Abell0496-002',
 'Abell0496-004',
 'AbellS0560-002',
 'Abell0496-001',
 'Abell3301-001',
 'AbellS0560-006',
 'Abell0496-005',
 'AbellS0560-003',
 'Abell3301-002',
 'AbellS0560-007',
 'Abell3301-004',
 'AbellS0560-004',
 'Abell3490-003',
 'Abell0496-007',
 'Abell3490-005',
 'AbellS0560-001',
 'Abell0496-003',
 'Abell3301-003',
 'Abell3490-007',
 'Abell3223-001',
 'Abell3223-002',
 'Abell0536-004',
 'Abell3223-003',
 'Abell0536-003',
 'Abell0536-007',
 'Abell0536-001',
 'Abell0536-006',
 'Abell0536-002',
 'Abell0536-005',
 'Abell3490-004',
 'Abell3490-002',
 'Abell3490-006',
 'Abell3490-001']

def exclude_dups(lst):
    return list(set(lst))

import os
import glob

# Dictionary to store field names and their observation counts
field_observation_count = {}

# Specify the directory where these fields folders are located
base_dir = '/home/splus/MAR/reductionmedia/TILES'  # replace with the actual path

fieldnames = exclude_dups(fieldnames)

for field in fieldnames:
    # Construct the path pattern for glob to match
    path_pattern = os.path.join(base_dir, field, f"{field}_*_swp.fits.fz")
    
    # Use glob to find all matching files
    matching_files = glob.glob(path_pattern)
    
    if not matching_files:
        print(f"{field} doesn't exist")
        continue

    # Save the count of matching files (i.e., observations) in the dictionary
    field_observation_count[field] = len(matching_files)

# Print out fields with 12 observations
fields_w_12 = 0
fields = 0
for field, count in field_observation_count.items():
    fields += 1
    if count == 12:
        fields_w_12 += 1
        print(f"{field} has 12 observations")

print(f"{fields_w_12} fields with 12 observations of {len(fieldnames)}")
print(f"{fields} reduced")
